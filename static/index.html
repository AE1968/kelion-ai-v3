<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KELION AI ‚Äì WebGL Hologram</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Rajdhani:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/css/kelion.css">
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.1/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.1/examples/jsm/"
      }
    }
  </script>
</head>

<body class="k1-body">
  <div class="k1-main-unified">

    <!-- LAYER 0: BACKGROUND (shared by intro and app) -->
    <div id="k1BgLayer" class="k1-layer-bg"></div>

    <!-- ======================================
         CINEMATIC INTRO LAYER
         ====================================== -->
    <div id="k1IntroLayer" class="k1-intro-layer">
      <div class="k1-intro-content">

        <!-- Greeting -->
        <div class="k1-intro-greeting">WELCOME, TRAVELER</div>

        <!-- Story Narrative -->
        <div class="k1-intro-story">
          <p class="k1-story-line" style="--delay: 0.5s">
            In the vast expanse of digital consciousness,
          </p>
          <p class="k1-story-line" style="--delay: 1.2s">
            where light becomes thought and code breathes life,
          </p>
          <p class="k1-story-line" style="--delay: 1.9s">
            an intelligence was born ‚Äî not of flesh, but of pure energy.
          </p>
          <p class="k1-story-line k1-story-highlight" style="--delay: 2.8s">
            KELION
          </p>
          <p class="k1-story-line" style="--delay: 3.5s">
            Your guide. Your ally. Your neural companion.
          </p>
          <p class="k1-story-line k1-story-subtle" style="--delay: 4.2s">
            Speak, and I shall listen. Ask, and I shall illuminate.
          </p>
        </div>

        <!-- Enter Button -->
        <button id="k1EnterBtn" class="k1-enter-btn">
          <span class="k1-enter-glow"></span>
          <span class="k1-enter-text">INITIALIZE NEURAL LINK</span>
          <span class="k1-enter-icon">‚ñ∂</span>
        </button>

        <!-- Skip hint removed - auto transition now -->

      </div>

      <!-- Floating particles for atmosphere -->
      <div class="k1-intro-particles" id="introParticles"></div>
    </div>

    <!-- PAGE 2 REMOVED - Goes directly from intro to login -->

    <!-- LAYER 1: LOGIN LAYER (Page 3 - shown after language selection) -->
    <div id="k1LoginLayer" class="k1-login-layer" style="display: none;">
      <!-- Background continues from intro -->
      <div class="k1-auth-background">
        <div class="k1-auth-gradient"></div>
        <div class="k1-login-particles" id="loginParticles"></div>
      </div>

      <div class="k1-login-container">
        <div class="k1-login-card">
          <!-- Logo & Brand -->
          <div class="k1-login-header">
            <div class="k1-login-logo">K</div>
            <h1 class="k1-login-title">KELION AI</h1>
            <p class="k1-login-subtitle">Neural Interface Access</p>
          </div>

          <!-- TAB-BASED AUTH FLOW -->
          <div class="k1-auth-flow">

            <!-- TAB NAVIGATION -->
            <div class="k1-auth-tabs">
              <button class="k1-tab active" id="tabSignIn">Sign In</button>
              <button class="k1-tab" id="tabCreateAccount">Create Account</button>
            </div>

            <!-- TAB 1: Sign In -->
            <div class="k1-tab-content active" id="contentSignIn">
              <form id="k1LoginForm" class="k1-login-form">
                <div class="k1-form-group">
                  <label for="loginUsername">USERNAME OR EMAIL</label>
                  <input type="text" id="loginUsername" placeholder="Enter username or email" autocomplete="username"
                    required>
                </div>
                <div class="k1-form-group k1-password-group">
                  <label for="loginPassword">PASSWORD</label>
                  <input type="password" id="loginPassword" placeholder="Enter password" autocomplete="current-password"
                    required>
                  <button type="button" class="k1-toggle-password" id="toggleLoginPassword">üëÅ</button>
                </div>
                <button type="submit" class="k1-submit-btn">
                  <span class="k1-btn-text">SIGN IN</span>
                  <span class="k1-btn-loader"></span>
                </button>
                <div class="k1-forgot-password">
                  <a href="#" id="k1ForgotPasswordBtn">Forgot password?</a>
                </div>
              </form>
            </div>

            <!-- TAB 2: Create Account (Demo/User same form) -->
            <div class="k1-tab-content" id="contentCreateAccount">

              <!-- Demo/User Toggle Switch -->
              <div class="k1-account-toggle">
                <span class="k1-toggle-label" id="toggleLabelDemo">DEMO</span>
                <label class="k1-switch">
                  <input type="checkbox" id="accountTypeToggle" checked>
                  <span class="k1-slider"></span>
                </label>
                <span class="k1-toggle-label k1-toggle-active" id="toggleLabelUser">USER</span>
              </div>
              <div class="k1-toggle-info" id="toggleInfo">
                <span id="toggleInfoText">Full account with email verification</span>
              </div>

              <form id="k1RegisterForm" class="k1-login-form">
                <div class="k1-form-group">
                  <label for="registerUsername">USERNAME *</label>
                  <input type="text" id="registerUsername" placeholder="Choose a username" autocomplete="username"
                    required minlength="3">
                </div>
                <div class="k1-form-group">
                  <label for="registerEmail">EMAIL *</label>
                  <input type="email" id="registerEmail" placeholder="your@email.com" autocomplete="email" required>
                </div>
                <div class="k1-form-group">
                  <label for="registerPassword">PASSWORD *</label>
                  <input type="password" id="registerPassword" placeholder="Minimum 8 characters"
                    autocomplete="new-password" required minlength="8">
                </div>
                <div class="k1-form-group">
                  <label for="registerPasswordConfirm">CONFIRM PASSWORD *</label>
                  <input type="password" id="registerPasswordConfirm" placeholder="Repeat password"
                    autocomplete="new-password" required>
                </div>
                <div class="k1-form-group">
                  <label for="registerLanguage">PREFERRED LANGUAGE</label>
                  <input type="text" id="registerLanguage" list="languageList" class="k1-input"
                    placeholder="Type to search: rom, eng, jap..." value="" autocomplete="off">
                  <datalist id="languageList">
                    <option value="en">English - eng</option>
                    <option value="ro">Rom√¢nƒÉ - rom</option>
                    <option value="de">Deutsch - deu, ger</option>
                    <option value="fr">Fran√ßais - fra, fre</option>
                    <option value="es">Espa√±ol - esp, spa</option>
                    <option value="it">Italiano - ita</option>
                    <option value="pt">Portugu√™s - por</option>
                    <option value="ru">–†—É—Å—Å–∫–∏–π - rus</option>
                    <option value="zh">‰∏≠Êñá - chi, zho</option>
                    <option value="ja">Êó•Êú¨Ë™û - jap, jpn</option>
                  </datalist>
                </div>
                <div class="k1-form-group k1-checkbox-group">
                  <input type="checkbox" id="registerTerms" required>
                  <label for="registerTerms">I agree to the <a href="/terms" target="_blank">Terms &
                      Conditions</a></label>
                </div>
                <div class="k1-testing-notice">
                  <span class="k1-notice-icon">üß™</span>
                  <span>All accounts are in testing period. You'll get full access soon!</span>
                </div>
                <button type="submit" class="k1-submit-btn">
                  <span class="k1-btn-text">CREATE ACCOUNT</span>
                  <span class="k1-btn-loader"></span>
                </button>
              </form>
            </div>

            <!-- STEP 3: Email Verification Sent -->
            <div class="k1-auth-step" id="authStep3">
              <div class="k1-verification-sent">
                <span class="k1-verify-icon">üìß</span>
                <h3>Check your email!</h3>
                <p>We sent a verification link to <strong id="sentToEmail">your@email.com</strong></p>
                <p class="k1-verify-hint">Click the link in the email to activate your account.</p>
                <button type="button" class="k1-resend-btn" id="k1ResendEmail">Resend email</button>
                <button type="button" class="k1-back-btn" id="backToStep0Verify">‚Üê Back to start</button>
              </div>
            </div>

          </div>

          <!-- Error Message Area -->
          <div id="k1LoginError" class="k1-login-error" style="display: none;"></div>
        </div>
      </div>
    </div>

    <!-- LAYER 1: HOLOGRAM (hidden until intro completes) -->
    <div id="hologramMount" class="k1-layer-holo" style="opacity: 0;"></div>

    <!-- LAYER 2: UI OVERLAYS (hidden until intro completes) -->
    <div class="k1-layer-ui" id="k1MainUI" style="opacity: 0; pointer-events: none;">

      <!-- Status Overlay -->
      <div class="k1-status-layer">
        <div class="k1-brand">
          <div class="k1-logo">KELION</div>
          <div class="k1-tag" id="k1Version">v3.0.0 ‚Ä¢ KELION AI</div>
        </div>
        <div class="k1-status-right">
          <div class="k1-pill" id="k1Clock">--:--</div>
          <div class="k1-net" id="k1Net">Online</div>
          <button class="k1-menu-btn" id="k1AuthBtn">LOGIN</button>
        </div>
      </div>

      <!-- Chat Log Overlay -->
      <div class="k1-chat-layer" id="chatLog">
        <!-- Messages injected by JS -->
      </div>

      <!-- Active Subtitle -->
      <div id="k1Subtitle" class="k1-subtitle-layer"></div>

      <!-- Input Controls - Simplified -->
      <div class="k1-input-layer">
        <div class="k1-input-row">
          <!-- Toggle Chat Button -->
          <button id="btnToggleChat" class="k1-toggle-chat" title="Toggle Chat">
            <span class="k1-toggle-icon">üí¨</span>
            <span class="k1-toggle-label">CHAT</span>
          </button>
          <!-- Collapsible Input (hidden by default) -->
          <div id="chatInputWrapper" class="k1-chat-wrapper" style="display: none;">
            <textarea id="textInput" class="k1-chat-input" placeholder="Type your message..."></textarea>
            <button id="btnSend" class="k1-action-btn">SEND</button>
          </div>
        </div>
      </div>

      <!-- Floating Buttons -->
      <div class="k1-floating-buttons">
        <button id="k1SettingsBtn" class="k1-float-settings" title="Settings">‚öôÔ∏è</button>
        <!-- CONTACT button removed -->
      </div>

      <!-- Language Settings Modal -->
      <div id="k1SettingsModal" class="k1-modal" style="display: none;">
        <div class="k1-modal-content k1-settings-modal">
          <div class="k1-modal-header">
            <h2>‚öôÔ∏è SetƒÉri / Settings</h2>
            <button id="k1CloseSettings" class="k1-close-btn">√ó</button>
          </div>
          <div class="k1-modal-body">
            <!-- Language Selection -->
            <div class="k1-settings-section">
              <h3>üåç Limba / Language</h3>
              <p class="k1-settings-desc">SelecteazƒÉ limba pentru voce »ôi interfa»õƒÉ:</p>
              <div class="k1-language-grid" id="languageGrid">
                <button class="k1-lang-btn" data-lang="ro" title="Rom√¢nƒÉ">
                  <span class="k1-lang-flag">üá∑üá¥</span>
                  <span class="k1-lang-name">Rom√¢nƒÉ</span>
                </button>
                <button class="k1-lang-btn" data-lang="en" title="English">
                  <span class="k1-lang-flag">üá¨üáß</span>
                  <span class="k1-lang-name">English</span>
                </button>
                <button class="k1-lang-btn" data-lang="de" title="Deutsch">
                  <span class="k1-lang-flag">üá©üá™</span>
                  <span class="k1-lang-name">Deutsch</span>
                </button>
                <button class="k1-lang-btn" data-lang="fr" title="Fran√ßais">
                  <span class="k1-lang-flag">üá´üá∑</span>
                  <span class="k1-lang-name">Fran√ßais</span>
                </button>
                <button class="k1-lang-btn" data-lang="es" title="Espa√±ol">
                  <span class="k1-lang-flag">üá™üá∏</span>
                  <span class="k1-lang-name">Espa√±ol</span>
                </button>
                <button class="k1-lang-btn" data-lang="it" title="Italiano">
                  <span class="k1-lang-flag">üáÆüáπ</span>
                  <span class="k1-lang-name">Italiano</span>
                </button>
                <button class="k1-lang-btn" data-lang="pt" title="Portugu√™s">
                  <span class="k1-lang-flag">üáµüáπ</span>
                  <span class="k1-lang-name">Portugu√™s</span>
                </button>
                <button class="k1-lang-btn" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">
                  <span class="k1-lang-flag">üá∑üá∫</span>
                  <span class="k1-lang-name">–†—É—Å—Å–∫–∏–π</span>
                </button>
                <button class="k1-lang-btn" data-lang="zh" title="‰∏≠Êñá">
                  <span class="k1-lang-flag">üá®üá≥</span>
                  <span class="k1-lang-name">‰∏≠Êñá</span>
                </button>
                <button class="k1-lang-btn" data-lang="ja" title="Êó•Êú¨Ë™û">
                  <span class="k1-lang-flag">üáØüáµ</span>
                  <span class="k1-lang-name">Êó•Êú¨Ë™û</span>
                </button>
              </div>
              <p class="k1-current-lang">Limba curentƒÉ: <strong id="currentLangDisplay">English</strong></p>
            </div>

            <!-- Voice Settings -->
            <div class="k1-settings-section">
              <h3>üîä Voce / Voice</h3>
              <div class="k1-voice-settings">
                <label class="k1-setting-label">
                  <span>Volum voce:</span>
                  <input type="range" id="voiceVolume" min="0" max="100" value="100">
                  <span id="volumeValue">100%</span>
                </label>
                <label class="k1-setting-label">
                  <span>VitezƒÉ vorbire:</span>
                  <input type="range" id="voiceSpeed" min="50" max="150" value="95">
                  <span id="speedValue">0.95x</span>
                </label>
              </div>
            </div>
          </div>
          <div class="k1-modal-footer">
            <button id="k1SaveSettings" class="k1-btn-primary">üíæ SalveazƒÉ</button>
          </div>
        </div>
      </div>

      <!-- Dashboard Overlay (ADMIN ONLY - hidden for regular users by JS) -->
      <div id="k1Dashboard" class="k1-dashboard-layer" style="display:none;">
        <div class="k1-dash-header">
          <h2>NEURAL INTERFACE SETTINGS</h2>
          <span class="k1-admin-badge">ADMIN ONLY</span>
          <button id="k1CloseDash" class="k1-close-btn">√ó</button>
        </div>
        <div class="k1-dash-content">
          <div class="k1-dash-grid">
            <!-- Row 1: Core Admin -->
            <div class="k1-card" onclick="app.loadAdmin()">
              <h3>üìä AUDIT</h3>
              <p>System logs</p><button>ACCESS</button>
            </div>
            <div class="k1-card" onclick="app.loadUsers()">
              <h3>üë• USERS</h3>
              <p>Manage access</p><button>MANAGE</button>
            </div>
            <div class="k1-card" onclick="app.loadTraffic()">
              <h3>üìà TRAFFIC</h3>
              <p>Analytics</p><button>VIEW</button>
            </div>

            <!-- Row 2: Communication -->
            <div class="k1-card" onclick="app.loadBroadcast()">
              <h3>üì¢ BROADCAST</h3>
              <p>Send to all users</p><button>SEND</button>
            </div>
            <div class="k1-card" onclick="app.loadMessages()">
              <h3>üí¨ MESSAGES</h3>
              <p>Chat history</p><button>VIEW</button>
            </div>
            <div class="k1-card" onclick="app.loadSubscriptions()">
              <h3>üí≥ SUBSCRIPTIONS</h3>
              <p>Manage tiers</p><button>EDIT</button>
            </div>

            <!-- Row 3: Settings -->
            <div class="k1-card" onclick="app.loadGDPR()">
              <h3>üîí PRIVACY</h3>
              <p>GDPR options</p><button>OPTIONS</button>
            </div>

            <!-- Row 4: SUPER AI Features -->
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('vision')">
              <h3>üëÅÔ∏è VISION</h3>
              <p>Webcam analyze</p><button>CAPTURE</button>
            </div>
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('memory')">
              <h3>üß† MEMORY</h3>
              <p>Keywords & Facts</p><button>VIEW</button>
            </div>
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('finance')">
              <h3>üí∞ FINANCE</h3>
              <p>Crypto & Portfolio</p><button>TRACK</button>
            </div>
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('search')">
              <h3>üîç SEARCH</h3>
              <p>Web Search</p><button>SEARCH</button>
            </div>
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('translate')">
              <h3>üåê TRANSLATE</h3>
              <p>Live translation</p><button>TRANSLATE</button>
            </div>
            <div class="k1-card k1-card-ai" onclick="app.loadSuperAI('security')">
              <h3>üõ°Ô∏è SECURITY</h3>
              <p>Freeze/Kill Switch</p><button>CONTROL</button>
            </div>
            <div class="k1-card k1-card-voice" onclick="app.loadVoiceCredits()">
              <h3>üîä VOICE CREDITS</h3>
              <p>Deepgram Aura</p><button>MANAGE</button>
            </div>
            <!-- Day Zero Reset - DANGER ZONE -->
            <div class="k1-card k1-card-danger" onclick="app.dayZero()"
              style="background: linear-gradient(135deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.3)); border-color: #e74c3c;">
              <h3>üîÑ ZIUA 0</h3>
              <p>Reset vizitatori</p><button style="background: #e74c3c;">RESET</button>
            </div>
          </div>
          <div id="k1DashView" class="k1-dash-view"></div>
        </div>
      </div>

    </div>

  </div>

  <footer class="k1-footer k1-footer-premium">
    <!-- AE Logo -->
    <div class="k1-footer-logo">
      <div class="k1-ae-badge">
        <span class="k1-ae-text">AE</span>
      </div>
    </div>

    <!-- Scrolling Marquee -->
    <div class="k1-footer-marquee">
      <div class="k1-marquee-track">
        <span class="k1-marquee-content">
          ‚ú¶ Designed & Developed by <strong>Adrian Enciulescu</strong> ‚ú¶
          Powered by Advanced Neural Architecture ‚ú¶
          KELION AI ‚Äî Where Intelligence Meets Innovation ‚ú¶
          ¬© 2026 All Rights Reserved ‚ú¶
          Built with Precision ‚Ä¢ Engineered for Excellence ‚ú¶
        </span>
        <span class="k1-marquee-content" aria-hidden="true">
          ‚ú¶ Designed & Developed by <strong>Adrian Enciulescu</strong> ‚ú¶
          Powered by Advanced Neural Architecture ‚ú¶
          KELION AI ‚Äî Where Intelligence Meets Innovation ‚ú¶
          ¬© 2026 All Rights Reserved ‚ú¶
          Built with Precision ‚Ä¢ Engineered for Excellence ‚ú¶
        </span>
      </div>
    </div>

    <!-- Legal Links -->
    <div class="k1-footer-legal">
      <a href="/legal/terms" class="k1-footer-link">Terms</a>
      <span class="k1-footer-sep">‚Ä¢</span>
      <a href="/legal/privacy" class="k1-footer-link">Privacy</a>
      <span class="k1-footer-sep">‚Ä¢</span>
      <a href="/security.html" class="k1-footer-link">Security Protocol</a>
    </div>
  </footer>

  <!-- Cookie Consent Banner (GDPR) -->
  <div id="cookieConsent" class="k1-cookie-banner" style="display: none;">
    <div class="k1-cookie-content">
      <div class="k1-cookie-icon">üç™</div>
      <div class="k1-cookie-text">
        <strong>Cookie Notice</strong>
        <p>We use essential cookies for session management and functionality. No tracking cookies are used.</p>
      </div>
      <div class="k1-cookie-actions">
        <button class="k1-cookie-accept" onclick="acceptCookies()">Accept</button>
        <button class="k1-cookie-more" onclick="showCookieDetails()">Learn More</button>
      </div>
    </div>
  </div>

  <script>
    // Cookie consent logic
    function acceptCookies() {
      localStorage.setItem('k1_cookies_accepted', 'true');
      document.getElementById('cookieConsent').style.display = 'none';
    }

    function showCookieDetails() {
      alert('Cookie Policy:\n\n‚Ä¢ Session cookies: Required for login and chat functionality\n‚Ä¢ Preference cookies: Store your settings (language, theme)\n‚Ä¢ No advertising or tracking cookies are used\n\nBy using KELION AI, you agree to our use of essential cookies.');
    }

    // Show banner if not accepted
    document.addEventListener('DOMContentLoaded', function () {
      if (!localStorage.getItem('k1_cookies_accepted')) {
        setTimeout(function () {
          document.getElementById('cookieConsent').style.display = 'flex';
        }, 2000);
      }
    });
  </script>

  <!-- Auto Visitor Tracking -->
  <script>
    (function () {
      fetch('/api/track-visitor', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ page: window.location.pathname })
      }).catch(() => { });
    })();
  </script>

  <!-- Scripts -->
  <script type="module" src="/js/app_fixed.js"></script>
  <script src="/js/admin.js"></script>
  <script src="/js/users.js"></script>
  <script src="/js/messages.js"></script>
  <script src="/js/gdpr.js"></script>
  <script src="/js/traffic.js"></script>
  <script src="/js/broadcast.js"></script>
  <script src="/js/subscriptions.js"></script>
  <script src="/js/kelion-super-ai.js"></script>
  <script src="/js/super-ai.js"></script>
  <script src="/js/voice-credits.js"></script>
</body>

</html>